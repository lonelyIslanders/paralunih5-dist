"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_StructuredFund_StructuredFundBuy_index_jsx"],{73077:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var n=r(15861),a=r(70885),c=r(64687),s=r.n(c),u=r(67294),o=r(68735),i=r(63474),f=r(55389),l=r(58733),d=r(67959),m=r(51837),p=r(72461),v=r(36871),w=r(28477),h=r(39439),b=(r(82769),r(4942)),g=r(64478);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){var t=e.show,r=void 0!==t&&t,n=e.onSuccess,c=void 0===n?function(){}:n,s=e.onClose,o=void 0===s?function(){}:s,i=(0,g.$)().t,f=(0,u.useState)({rate:2}),l=(0,a.Z)(f,2),p=l[0],v=l[1],w=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},p);t.rate=e&&Number(e),console.log(t),v(t)};return u.createElement(m.Z,{visible:r,direction:"bottom",mountContainer:function(){return document.body}},u.createElement("div",{className:"set-body"},u.createElement("div",{className:"title"},i("common.setting")),u.createElement("div",{className:"set-title"},i("page.StructuredFund.toleranceName")),u.createElement("div",{className:"set-content"},[2,1,3].map((function(e){return u.createElement("div",{className:"f1",key:e},u.createElement("div",{className:(null==p?void 0:p.rate)===e?"able":"def",onClick:function(){w(e)}},e,"%"))})),u.createElement("div",{className:"line-rate"},u.createElement("input",{type:"number",className:"rate",value:null==p?void 0:p.rate,onChange:function(e){return w(e.target.value)}}),"%")),null!=p&&p.rate&&(null==p?void 0:p.rate)<.5?u.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceFail")):null,(null==p?void 0:p.rate)>5&&p.rate<50?u.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceAdvance")):null,(null==p?void 0:p.rate)>50||null==p||!p.rate?u.createElement("div",{className:"error-text"},i("page.StructuredFund.toleranceNoUse")):null,u.createElement("div",{className:"btn-group"},u.createElement("div",{className:"ok",onClick:function(){return!p.rate||p.rate<=0?d.Z.show(i("page.StructuredFund.toleranceMust")):(null==p?void 0:p.rate)>50?d.Z.show(i("page.StructuredFund.toleranceOut")):(d.Z.show(i("page.StructuredFund.toleranceSuccess")),void c(p.rate))}},i("common.submit")),u.createElement("div",{className:"cancel",onClick:o},i("common.cancel")))))}var S=r(34234),Z=r(38104);function x(e){var t=e.visible,r=e.onClose,c=e.detail,i=e.priceCoin,f=e.priceUsdt,l=e.onSuccess,b=(0,g.$)().t,E=(0,o.Z)().user,x=(0,u.useState)(),F=(0,a.Z)(x,2),y=F[0],k=F[1],C=(0,u.useState)(0),z=(0,a.Z)(C,2),j=z[0],P=z[1],T=(0,p.JR)((0,p.eK)(c.amount))/10,U=(0,u.useState)(!1),D=(0,a.Z)(U,2),O=D[0],_=D[1],B=(0,u.useState)(2),I=(0,a.Z)(B,2),R=I[0],A=I[1],V=(0,u.useState)(!1),$=(0,a.Z)(V,2),J=$[0],L=$[1],W=function(){var e=(0,n.Z)(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.cv)(w.Z.token,E.address);case 2:t=e.sent,k(t),r=T*w.Z.portionCost*f,P(r/i);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j){e.next=2;break}return e.abrupt("return");case 2:return t=j+j*(R/100),e.next=6,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,params:[c.planId,(0,p.tr)(t).toFixed()],method:"deposit",type:"send"});case 6:e.sent?(d.Z.show(b("page.StructuredFund.subscriptionSuccess")),l()):d.Z.show(b("page.StructuredFund.subscriptionFail"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.EW)(w.Z.token,E.address,Z.Z.StructureFund);case 2:t=e.sent,L("0"!==t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.Z)({abi:"erc20",address:w.Z.token,method:"approve",params:[Z.Z.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.Z.show(b("common.active_fail"))}});case 2:e.sent&&(L(!0),d.Z.show(b("common.active_success")));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){return W()}),[c]),(0,u.useEffect)((function(){return M()}),[E.address]),u.createElement(m.Z,{direction:"bottom",visible:t},u.createElement("div",{className:"buy-popup"},u.createElement("div",{className:"flex-row fl-jc-between fl-ai-center"},u.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},b("page.StructuredFund.subscriptionRule")),u.createElement("div",{className:"font-weight-400 buy-popup-close fl-ai-center font-size-12",onClick:r},b("common.close"))),u.createElement("div",{className:"divide-line mt-5"}),u.createElement("div",{className:"flex-row fl-jc-between mt-20 mb-20"},u.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},b("page.StructuredFund.subscription")),u.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},T," ",b("page.StructuredFund.shareNum"))),u.createElement("div",{className:"flex-row fl-jc-between"},u.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionNeed")),u.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.JR)(j+j*(R/100))," ",w.Z.symbol)),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("common.available")),u.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},y," ",w.Z.symbol)),parseFloat(j)>parseFloat(y)&&u.createElement("div",{className:"buy-popup-tip mt-10 flex-center"},b("page.StructuredFund.hasNoTips")),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionFuel")),u.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.JR)(.5*f/i)*T," ",w.Z.symbol)),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.tolerance")),u.createElement("div",{className:"flex-row fl-ai-center",onClick:function(){return _(!0)}},u.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},R,"%"),u.createElement("img",{src:h.Z,width:15,height:15,className:"ml-10"}))),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},b("page.StructuredFund.subscriptionDate")),u.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},w.Z.cycle)),u.createElement("div",{className:"buy-popup-submit flex-center",onClick:J?H:K},J?b("page.StructuredFund.subscriptionComfirm"):b("common.active_transaction",{name:w.Z.symbol})),u.createElement(N,{show:O,onSuccess:function(e){A(e),_(!1)},onClose:function(){return _(!1)}})))}var F=r(5977),y=r(81818);function k(e){var t=e.visible,r=e.onClose,c=e.detail,i=e.priceUsdt,f=e.onSuccess,l=(0,g.$)().t,w=(0,u.useState)(!1),b=(0,a.Z)(w,2),E=b[0],x=b[1],F=(0,u.useState)(2),y=(0,a.Z)(F,2),k=y[0],C=y[1],z=(0,u.useState)(""),j=(0,a.Z)(z,2),P=j[0],T=j[1],U=(0,u.useState)(0),D=(0,a.Z)(U,2),O=D[0],_=D[1],B=(0,u.useState)(!1),I=(0,a.Z)(B,2),R=I[0],A=I[1],V=(0,o.Z)().user,$=(0,p.JR)((0,p.eK)(c.amount))/10,J=function(){var e=(0,n.Z)(s().mark((function e(){var t,r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.cv)(Z.Z.V42NEW,V.address);case 2:return t=e.sent,T(t),e.next=6,(0,S.Z)({abi:"ParaPeriphery",address:Z.Z.ParaPeriphery,params:[Z.Z.V42NEW,Z.Z.USDT,Z.Z.ParaRouter],method:"getPrice",type:"call"});case 6:r=e.sent,n=3*$*i/(0,p.eK)(r),_(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=2;break}return e.abrupt("return");case 2:return t=O+O*(k/100),e.next=6,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,params:[c.planId,(0,p.tr)(t).toFixed()],method:"planCancel",type:"send"});case 6:e.sent?(d.Z.show(l("page.StructuredFund.rearrangeSuccess")),f()):d.Z.show(l("page.StructuredFund.rearrangeFail"));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.EW)(Z.Z.V42NEW,V.address,Z.Z.StructureFund);case 2:t=e.sent,A("0"!==t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.Z)({abi:"erc20",address:Z.Z.V42NEW,method:"approve",params:[Z.Z.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.Z.show(l("common.active_fail"))}});case 2:e.sent&&(A(!0),d.Z.show(l("common.active_success")));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){return J()}),[]),(0,u.useEffect)((function(){return W()}),[V.address]),u.createElement(m.Z,{direction:"bottom",visible:t},u.createElement("div",{className:"buy-popup"},u.createElement("div",{className:"flex-row fl-jc-between fl-ai-center"},u.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},l("page.StructuredFund.rearrangeRule")),u.createElement("div",{className:"font-weight-400 buy-popup-close fl-ai-center font-size-12",onClick:r},l("common.close"))),u.createElement("div",{className:"divide-line mt-5"}),u.createElement("div",{className:"flex-row fl-jc-between mt-20 mb-20"},u.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},l("page.StructuredFund.subscription")),u.createElement("div",{className:"font-size-14 font-weight-600 font-color-white"},$," ",l("page.StructuredFund.shareNum"))),u.createElement("div",{className:"buy-popup-tip mt-10 flex-center "},l("page.StructuredFund.rearrangeTips")),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe "},l("page.StructuredFund.rearrangeNeed")),u.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},(0,p.JR)(O+O*(k/100))," V42")),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},l("common.available")),u.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},P," V42")),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-size-12 font-weight-400 font-color-describe"},l("page.StructuredFund.tolerance")),u.createElement("div",{className:"flex-row fl-ai-center",onClick:function(){return x(!0)}},u.createElement("div",{className:"font-size-12 font-weight-bold font-color-white"},k,"%"),u.createElement("img",{src:h.Z,width:15,height:15,className:"ml-10"}))),parseFloat(O)>parseFloat(P)&&u.createElement("div",{className:"buy-popup-tip mt-10 flex-center"},l("page.StructuredFund.hasNoTipsV42")),u.createElement("div",{className:"buy-popup-submit flex-center",onClick:R?L:H},R?l("page.StructuredFund.rearrangeComfirm"):l("common.active_transaction",{name:"V42"})),u.createElement(N,{show:E,onSuccess:function(e){C(e),x(!1)},onClose:function(){return x(!1)}})))}var C=r(79954),z=r(30381),j=r.n(z);function P(e){var t=e.userInfo,r=(0,g.$)().t,c=(0,u.useState)(""),o=(0,a.Z)(c,2),m=o[0],h=o[1],b=(0,u.useState)(!1),E=(0,a.Z)(b,2),N=E[0],x=E[1],k=(0,u.useState)("0"),z=(0,a.Z)(k,2),j=z[0],P=z[1],U=(0,u.useState)("0"),D=(0,a.Z)(U,2),O=D[0],_=D[1],B=(0,u.useState)("0"),I=(0,a.Z)(B,2),R=I[0],A=I[1],V=(0,u.useState)("0"),$=(0,a.Z)(V,2),J=$[0],L=$[1],W=(0,u.useState)(0),H=(0,a.Z)(W,2),M=H[0],K=H[1],G=(0,u.useState)(0),Y=(0,a.Z)(G,2),q=Y[0],Q=Y[1],X=(0,u.useState)([]),ee=(0,a.Z)(X,2),te=ee[0],re=ee[1],ne=(0,u.useState)(null),ae=(0,a.Z)(ne,2),ce=ae[0],se=ae[1],ue=(0,u.useState)(1),oe=(0,a.Z)(ue,2),ie=oe[0],fe=oe[1],le=(0,u.useState)(0),de=(0,a.Z)(le,2),me=de[0],pe=de[1],ve=(0,u.useState)([]),we=(0,a.Z)(ve,2),he=we[0],be=we[1],ge=(0,F.k6)(),Ee=(0,F.UO)().pid,Ne=(0,y.Z)(),Se=Ne.getPriceByToken,Ze=Ne.getCFPrice,xe=function(){var e=(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.EW)(Z.Z.USDT,t.address,Z.Z.StructureFund);case 2:r=e.sent,x("0"!==r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,S.Z)({abi:"erc20",address:Z.Z.USDT,method:"approve",params:[Z.Z.StructureFund,"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"],type:"send",error:function(){d.Z.show(r("common.active_fail"))}});case 4:e.sent&&(x(!0),d.Z.show(r("common.active_success")));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(e){h(e?Math.floor(e):e),je(parseInt(e))},ke=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ze(w.Z.token,Z.Z.USDT,Z.Z.PancakeRouter);case 2:t=e.sent,A(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(Z.Z.USDT,Z.Z.USDT);case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze=function(){var e=(0,n.Z)(s().mark((function e(){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.cv)(Z.Z.USDT,t.address);case 2:r=e.sent,P(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),je=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(t)){e.next=5;break}return K(0),Q(0),L("0"),e.abrupt("return");case 5:K(10*t),Q(.5*t),r=100*t*O,L((0,p.JR)(r/R,6));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,n.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!m||m>10||m<1)){e.next=3;break}return d.Z.show(r("page.StructuredFund.inputinteger")),e.abrupt("return");case 3:return e.next=5,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,params:[m],method:"plan",type:"send"});case 5:e.sent?(d.Z.show(r("page.StructuredFund.buySuccess")),Ue(),h(""),Te(),ze()):d.Z.show(r("page.StructuredFund.buyFail"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=(0,n.Z)(s().mark((function e(){var r,n,a,c,u,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce&&he.length){e.next=2;break}return e.abrupt("return");case 2:return r=10*(ie-1),e.next=5,(0,S.Z)({abi:"StructureFundView",address:Z.Z.StructureFundView,params:[t.address,r,10],method:"getPlanList",type:"call"});case 5:n=e.sent,pe(n.count),a=n.amounts,c=n.isForfeiteds,u=n.isRedeems,o=n.planIds,i=[],a.map((function(e,t){var r={},n=o[t];if(r.isForfeited=c[t],r.planId=n,r.amount=e,u[t])return r.status=6,void i.push(r);if(c[t])return r.status=4,void i.push(r);if(n<ce.endPlan&&n>=ce.startPlan){var a=De(!0);!0===a?r.status=1:(r.status=3,r.time=a)}else n<ce.startPlan&&(r.status=5),n>=ce.endPlan&&(r.status=2);if(3===r.status||2===r.status){var s=n-ce.startPlan+1,f=ce.allPlan-ce.startPlan;r.sort="".concat(s,"/").concat(f)}i.push(r)})),re(i);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=(0,n.Z)(s().mark((function e(){var r,n,a,c,u,o,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,S.Z)({abi:"StructureFundView",address:Z.Z.StructureFundView,params:[t.address],method:"getInfo",type:"call"});case 4:if(!(r=e.sent)[1][0]){e.next=8;break}return ge.push("/structuredfundwindingup"),e.abrupt("return");case 8:for(be(r[2]),n=r[0][0];77-n.length>0;)n="0"+n;for(a=r[0][6];77-a.length>0;)a="0"+a;c=parseInt(n.substring(67,77)),u=parseInt(n.substring(57,67)),o=parseInt(a.substring(67,77)),(i={}).startPlan=u,i.endPlan=c,i.allPlan=o,se(i);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!he.length)return!0;var t=(new Date).getTime(),r=t/1e3,n=(r-1654790400)%86400;return n>=he[0][0]&&n<=he[0][1]||(n>=he[1][0]&&n<=he[1][1]||(n>=he[2][0]&&n<=he[2][1]||(n<he[0][0]?e?he[0][0]-n:"10:00-12:00":n>he[0][1]&&n<he[1][0]?e?he[1][0]-n:"15:00-17:00":n>he[1][1]&&n<he[2][0]?e?he[2][0]-n:"19:00-22:00":n>he[2][1]&&(e?86400+he[0][0]-n:"10:00-12:00"))))};return(0,u.useEffect)((function(){ke(),ze(),Ce(),xe(),Ue()}),[t.address]),(0,u.useEffect)((function(){Te()}),[ce,ie]),u.createElement(u.Fragment,null,u.createElement(f.Z,null),u.createElement(i.Z,null,u.createElement("div",{className:"flex-row fl-jc-between mb-15"},u.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},r("page.StructuredFund.subscribeGet")),u.createElement("div",{className:"font-size-12 font-color-describe font-weight-bold"},r("page.StructuredFund.subscribeNum",{portionCost:w.Z.portionCost}))),u.createElement(l.Z,{onChange:ye,placeholder:r("page.StructuredFund.inputinteger"),maxValue:j,value:m,setClean:function(){return ye("")},setMax:function(){return ye("10")}}),u.createElement("div",{className:"flex-row fl-jc-between"},u.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("page.StructuredFund.subscribeTips")),u.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},J," ",w.Z.symbol)),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-color-white font-size-14 font-weight-500 flex-shrink0"},r("page.StructuredFund.bond"),u.createElement("span",{className:"font-size-12"},r("page.StructuredFund.numConetnt")),r("page.StructuredFund.bondTips")),u.createElement("div",{className:"font-color-white font-size-14 font-weight-500 text-wrap"},M," USDT")),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-color-white font-size-14 font-weight-500 flex-shrink0"},r("common.commission"),u.createElement("span",{className:"font-size-12"},r("page.StructuredFund.proceduresNums"))),u.createElement("div",{className:"font-color-white font-size-14 font-weight-500 text-wrap"},q," USDT")),u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("common.available")),u.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},j," USDT")),u.createElement("div",{className:"divide-line mt-20"}),u.createElement("div",{className:"fund-buy-submit flex-center",onClick:N?Pe:Fe},N?r("page.StructuredFund.submintMy"):r("common.active_transaction_btn",{name:"USDT"}))),u.createElement(i.Z,null,u.createElement("div",{className:"flex-row fl-jc-between fl-ai-center",onClick:function(){ge.push("/structuredfunddetail/".concat(Ee))}},u.createElement("div",{className:"font-color-describe font-size-14 font-weight-500"},r("common.my_position")),u.createElement("img",{src:"https://paraluni.org/images/icons/ArrowC.png",width:12,height:10}))),u.createElement(i.Z,null,u.createElement("div",{className:"font-size-16 font-weight-500 font-color-white"},r("page.StructuredFund.subscribeCurrent")),u.createElement("div",{className:"divide-line mt-15"}),u.createElement("div",{className:"flex-row mt-10"},u.createElement("div",{className:"fund-record-A font-color-describe font-size-12"},r("page.StructuredFund.subscribeCurrent")),u.createElement("div",{className:"fund-record-B font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.bond")),u.createElement("div",{className:"fund-record-C font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.bianhao")),u.createElement("div",{className:"fund-record-A font-color-describe font-size-12 flex-row fl-jc-center"},r("page.StructuredFund.subscribePai")),u.createElement("div",{className:"fund-record-B font-color-describe font-size-12 flex-row-reserve"},r("page.StructuredFund.status"))),te.map((function(e,t){return u.createElement(T,{depositCallBack:function(){Ue(),ke(),ze()},priceUsdt:O,priceCoin:R,key:t,item:e,reLineUpCallBack:function(){Ue()}})})),u.createElement("div",{className:"mt-20"}),u.createElement(C.tl,{mode:"simple",forceEllipses:!0,value:ie,onChange:function(e){fe(e)},totalItems:me,itemsPerPage:10,showPageSize:3}),!0!==De(!0)&&u.createElement("div",{className:"flex-row fl-jc-between mt-10"},u.createElement("div",{className:"font-color-describe font-size-12 font-weight-500"},r("page.StructuredFund.nextPai")),u.createElement("div",{className:"font-color-white font-size-12 font-weight-500"},De(!1)))),u.createElement("div",{className:"fund-buy-tip flex-center"},w.Z.dataTips))}function T(e){var t=(0,g.$)().t,r=(0,u.useState)(!1),n=(0,a.Z)(r,2),c=n[0],s=n[1],o=(0,u.useState)(!1),i=(0,a.Z)(o,2),f=i[0],l=i[1],d=(0,u.useState)(""),m=(0,a.Z)(d,2),v=m[0],w=m[1],h=e.item,b=e.priceCoin,E=e.priceUsdt,N=e.depositCallBack,S=e.reLineUpCallBack,Z=function(){s(!0)},F=function(){s(!1)},y=function(){l(!0)},C=function(){l(!1)};(0,u.useEffect)((function(){3===h.status&&w(j().utc(1e3*h.time).format("HH:mm:ss"))})),(0,p.Yz)((function(){h.time&&!isNaN(h.time)&&(h.time=h.time-1,w(j().utc(1e3*h.time).format("HH:mm:ss")))}),1e3);var z=(0,p.JR)((0,p.eK)(h.amount));return u.createElement("div",{className:"flex-row mt-15"},u.createElement("div",{className:"fund-record-A font-color-white font-size-12 font-weight-500"},z/10,t("page.StructuredFund.shareNum")),u.createElement("div",{className:"fund-record-B font-color-white font-size-12 font-weight-500 flex-row fl-jc-center text-wrap"},z,"U"),u.createElement("div",{className:"fund-record-C font-color-white font-size-12 font-weight-500 flex-row fl-jc-center text-wrap"},h.planId),u.createElement("div",{className:"fund-record-A font-color-white font-size-12 font-weight-500 flex-row fl-jc-center"},h.sort||"--"),function(){switch(h.status){case 1:return u.createElement("div",{className:"flex-column fund-record-B fl-ai-end"},u.createElement("div",{className:"fund-record-buy",onClick:Z},t("page.StructuredFund.subscribeImmediate")),u.createElement("div",{className:" fund-record-reset  mt-5",onClick:y},t("page.StructuredFund.reloadPai")));case 2:return u.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-wait"},t("page.StructuredFund.waitting"));case 3:return u.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-time text-wrap"},t("page.StructuredFund.nextTime"),t("page.StructuredFund.nextTimeNum",{time:v}));case 4:return u.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondHasNo"));case 5:return u.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondOver"));case 6:return u.createElement("div",{className:"fund-record-B flex-row-reserve fund-record-minus text-wrap"},t("page.StructuredFund.bondSuccess"))}}(),u.createElement(x,{detail:h,priceCoin:b,priceUsdt:E,visible:c,onClose:F,onSuccess:function(){F(),N()}}),u.createElement(k,{visible:f,onClose:C,detail:h,priceUsdt:E,onSuccess:function(){C(),S()}}))}var U=r(98126);function D(e){var t=e.userinfo,r=e.activeSuccessCallback,c=(0,g.$)().t,o=(0,u.useState)(""),i=(0,a.Z)(o,2),f=i[0],l=i[1],m=function(){var e=(0,n.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=f||"0x0000000000000000000000000000000000000000",t.address.toLowerCase()!=n.toLowerCase()){e.next=6;break}return d.Z.show(c("page.StructuredFund.errorTip")),e.abrupt("return");case 6:if(window.web3.utils.isAddress(n)){e.next=9;break}return d.Z.show(c("page.StructuredFund.warnTip")),e.abrupt("return");case 9:if(!f){e.next=17;break}return e.next=12,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,method:"pIDxAddr_",params:[n],type:"call"});case 12:if(0!=e.sent){e.next=17;break}return d.Z.show(c("page.StructuredFund.hasnoUser")),l(""),e.abrupt("return");case 17:return e.next=19,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,params:[n],method:"register",type:"send",error:function(){return d.Z.show(c("common.active_fail"))}});case 19:e.sent?r():d.Z.show(c("common.active_fail"));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.createElement(U.Z,{visible:!0,width:"90%"},u.createElement("div",{className:"welcomeModal"},u.createElement("img",{className:"modaltitle",src:"https://paraluni.org/images/Banners/CF-STRUCTURED-FUND.png"}),u.createElement("div",{className:"modalLabal mt-5"},c("page.StructuredFund.myAddress")),u.createElement("div",{className:"modalAddress"},(0,p.z7)((null==t?void 0:t.address)||"")),u.createElement("div",{className:"modalLabal"},c("page.StructuredFund.referrer")),u.createElement("input",{value:f,onChange:function(e){l(e.target.value)},className:"modalInput",placeholder:c("page.StructuredFund.inputaddress")}),u.createElement("div",{className:"redcolorText"},c("page.StructuredFund.referrerTips")),u.createElement("div",{className:"approveButton",onClick:function(){f?m():U.Z.confirm({title:c("common.tips"),content:c("page.StructuredFund.tipText"),onOk:function(){m()}})}},c("page.StructuredFund.immediatelyApprove")),u.createElement("div",{className:"yellowcolorText"},w.Z.dataTips)))}function O(){var e=(0,o.Z)(),t=e.setAddress,r=e.user,c=(0,g.$)().t,i=(0,u.useState)(!0),f=(0,a.Z)(i,2),l=f[0],m=f[1];(0,u.useEffect)((function(){r.address||t()}),[]);var p=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r&&r.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,S.Z)({abi:"StructureFund",address:Z.Z.StructureFund,method:"pIDxAddr_",params:[r.address],type:"call"}).catch((function(){return m(!1)}));case 4:(t=e.sent)||m(!1),"0"==t&&m(!1),t>0&&m(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){return p()}),[null==r?void 0:r.address]),u.createElement("div",{className:"structuredfundbuy"},u.createElement(P,{userInfo:r}),!l&&u.createElement(D,{userinfo:r,activeSuccessCallback:function(){d.Z.show(c("common.active_success")),m(!0)}}))}},55389:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(67294),a=r(64478),c=r(63474),s=r(28477);function u(){var e=(0,a.$)().t;return n.createElement(c.Z,null,n.createElement("div",{className:"font-size-16 font-color-white font-weight-500"},s.Z.name),n.createElement("div",{className:"divide-line mt-10"}),n.createElement("div",{className:"flex-row fl-jc-between mt-15"},n.createElement("div",{className:" font-color-describe"},e("page.StructuredFund.cycle")),n.createElement("div",{className:"fund-buy-color font-color-describe"},s.Z.cycle,e("page.StructuredFund.yield"))),n.createElement("div",{className:"flex-row fl-jc-between mt-10"},n.createElement("div",{className:"font-color-white font-size-14 font-weight-bold"},s.Z.cycle),n.createElement("div",{className:"font-color-green font-size-14 font-weight-bold"},s.Z.apr)))}}}]);