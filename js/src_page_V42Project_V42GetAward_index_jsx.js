"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["src_page_V42Project_V42GetAward_index_jsx"],{90766:(e,t,r)=>{r.r(t),r.d(t,{default:()=>_});var n=r(4942),a=r(15861),s=r(70885),c=r(64687),u=r.n(c),i=r(67294),o=r(67959),p=r(64478),l=r(38104),f=r(34234),m=r(6065);function d(e){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)({abi:"devteamv2",address:l.Z.DevTeam,method:"userid",params:[t],type:"call"});case 2:return r=e.sent,e.abrupt("return",r<1e6);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,t){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)(u().mark((function e(t,r){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Z)(t.map((function(e){return{abi:"devteamv2",address:l.Z.DevTeam,method:"userPending",params:[r,e.address]}})));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Z)({abi:"devteamv2",address:l.Z.DevTeam,method:"claim",params:[],type:"send"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=r(72461),x=r(63474),Z=r(24539),g=r(68735);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(){var e=(0,g.Z)(),t=e.setAddress,r=e.user,n=(0,p.$)().t,c=(0,Z.Z)().tokenList,l=(0,i.useState)(!1),f=(0,s.Z)(l,2),m=f[0],v=f[1],h=(0,i.useState)([]),w=(0,s.Z)(h,2),O=w[0],_=w[1],j=(0,i.useState)(!0),E=(0,s.Z)(j,2),N=E[0],D=E[1],S=function(){var e=(0,a.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t,null==r?void 0:r.address);case 2:return n=e.sent,e.abrupt("return",n.map((function(e,r){return P(P({},t[r]),{},{stayPriceNum:(0,k.eK)(e,t[r].symbol).toFixed(0)||0,stayPrice:(0,k.Rx)((0,k.eK)(e,t[r].symbol).toNumber()||0)})})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(c);case 2:t=e.sent,_(t),D(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=(0,a.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!O.some((function(e){return e.stayPriceNum>0}))){e.next=9;break}return e.next=5,y();case 5:e.sent&&(C(),o.Z.show(n("page.Mine.mine_get_success"))),e.next=10;break;case 9:o.Z.show(n("没有可领取的奖励"));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),o.Z.show(n("page.Mine.mine_get_fail"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.address){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d(null==r?void 0:r.address);case 4:t=e.sent,v(t),t&&C();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){null!=r&&r.address&&c.length?A():t()}),[null==r?void 0:r.address,c]),i.createElement("div",{className:"V42GetAward"},m&&!N?i.createElement(x.Z,null,i.createElement("div",null,i.createElement("div",{className:"back-btn",onClick:M},n("page.Mine.mine_one_click_get")),null!=O&&O.length?O.map((function(e,t){return i.createElement("div",{className:"back-item",key:t},i.createElement("div",{className:"back-item-label"},e.symbol),i.createElement("div",{className:"back-item-value"},e.stayPrice))})):i.createElement("div",{className:"back-none"},n("page.Mine.mine_no_bonus")))):i.createElement("div",{className:"nocontenttext"},"No Content"))}}}]);